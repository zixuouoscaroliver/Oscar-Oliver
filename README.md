# Telegram News Pusher (Stable)

ç¨³å®šç‰ˆä»“åº“ï¼š`zixuouoscaroliver/Oscar-Oliver`

è¿™æ˜¯ç”Ÿäº§ä½¿ç”¨çš„ç¨³å®šçº¿ï¼Œè´Ÿè´£æŠŠå¤šå®¶è‹±æ–‡åª’ä½“æ–°é—»æ¨é€åˆ° Telegramã€‚

## å½“å‰èƒ½åŠ›
- å¤šæºæŠ“å–ï¼šNYP / WaPo / Politico / Economist / WSJ / AP / The Atlantic / Reuters / SCMP
- æ¨é€ç­–ç•¥ï¼šä¼˜å…ˆå‘ `sendPhoto`ï¼ˆå¸¦æ ‡é¢˜/é“¾æ¥ï¼‰ï¼Œå›¾ç‰‡ä¸å¯ç”¨æ—¶è‡ªåŠ¨å›é€€
- å»é‡ä¸çŠ¶æ€ï¼šåŸºäº `.state.cloud.json` + `SEEN_TTL_HOURS` å»é‡
- é‡å¤§æ–°é—»ç­›é€‰ï¼š`MAJOR_ONLY=true` æ—¶ä»…æ¨é€å‘½ä¸­ `MAJOR_KEYWORDS` çš„æ–°é—»ï¼ˆå¹¶æ’é™¤ Opinionï¼‰
- å…æ‰“æ‰°ä¸æ™¨é—´æ±‡æ€»ï¼š`QUIET_HOUR_START`~`QUIET_HOUR_END` ç¼“å­˜ï¼Œç™½å¤©è‡ªåŠ¨è¡¥å‘
- è¶…é‡æ±‡æ€»ï¼šå½“æœ¬è½®æ–°æ–°é—»è¶…è¿‡é˜ˆå€¼ï¼ˆé»˜è®¤ 10ï¼‰æ—¶ï¼Œè‡ªåŠ¨æ±‡æ€»ä¸ºå•æ¡æ¶ˆæ¯
- æ±‡æ€»å±•ç¤ºï¼šæŒ‰ç±»åˆ«åˆ†ç»„ï¼Œç±»åˆ«æŒ‰å¹³å‡çƒ­åº¦æ’åºï¼Œç±»å†…æ–°é—»æŒ‰çƒ­åº¦æ’åºï¼Œæ ‡é¢˜å¯ç‚¹å‡»è·³è½¬
- çŠ¶æ€æŒä¹…åŒ–ï¼šçŠ¶æ€å†™å…¥ `bot-state` åˆ†æ”¯ï¼Œä¸æ±¡æŸ“ä¸»å¼€å‘åˆ†æ”¯

## çƒ­åº¦å€¼ä¸æ’åºè§„åˆ™ï¼ˆå·²ä¸Šçº¿ï¼‰
ç³»ç»Ÿä¼šç»™æ¯æ¡æ–°é—»è®¡ç®— `heat`ï¼Œå¹¶æ˜¾ç¤ºä¸º `ğŸ”¥x.x`ã€‚

### çƒ­åº¦å‡½æ•°
`heat = æ¥æºæƒé‡ + æ ‡é¢˜ä¿¡å·æƒé‡ + æ—¶æ•ˆæƒé‡ + æ•°å­—äº‹ä»¶åŠ æƒ`

- æ¥æºæƒé‡ï¼šä¸åŒåª’ä½“åŸºç¡€æƒé‡ä¸åŒï¼ˆå¦‚ Reuters/AP/WaPo/WSJ æ›´é«˜ï¼‰
- æ ‡é¢˜ä¿¡å·ï¼šå‘½ä¸­å…³é”®äº‹ä»¶è¯ä¼šåŠ åˆ†ï¼ˆå¦‚ `breaking`ã€`war`ã€`election`ã€`fed`ã€`earthquake`ï¼‰
- æ—¶æ•ˆæƒé‡ï¼šè¶Šæ–°åŠ åˆ†è¶Šé«˜ï¼ˆ3å°æ—¶å†… > 12å°æ—¶å†… > 24å°æ—¶å†…ï¼‰
- æ•°å­—äº‹ä»¶åŠ æƒï¼šæ ‡é¢˜å‡ºç°å¤§æ•°å­—ï¼ˆ`\\b\\d{3,}\\b`ï¼‰é¢å¤–åŠ åˆ†

### æ’åºè§„åˆ™
- ç±»å†…æ’åºï¼šæŒ‰å•æ¡ `heat` é™åº
- ç±»é—´æ’åºï¼šæŒ‰ç±»åˆ«å¹³å‡ `heat` é™åº

### å±•ç¤ºè§„åˆ™
- å•æ¡æ¨é€ï¼š`[æ¥æº] ğŸ”¥x.x` + æ ‡é¢˜ + æ—¶é—´ + é“¾æ¥
- æ±‡æ€»æ¨é€ï¼šåˆ†ç±»æ ‡é¢˜ä¸‹æ¯æ¡å¯ç‚¹å‡»æ ‡é¢˜åæ˜¾ç¤º `ğŸ”¥x.x`

## ä»“åº“åˆ†æ”¯çº¦å®šï¼ˆç¨³å®šç‰ˆï¼‰
- `main`ï¼šå¼€å‘åˆ†æ”¯
- `bot-stable`ï¼šç¨³å®šè¿è¡Œåˆ†æ”¯ï¼ˆActions é»˜è®¤è¿è¡Œæ­¤åˆ†æ”¯ï¼‰
- `bot-state`ï¼šä»…å­˜å‚¨çŠ¶æ€æ–‡ä»¶ï¼ˆ`.state.cloud.json` / `.mac.heartbeat.json`ï¼‰

## GitHub Actions å¿…å¡«é…ç½®
è·¯å¾„ï¼š`Settings -> Secrets and variables -> Actions`

### Secrets
- `TELEGRAM_BOT_TOKEN`ï¼šç¨³å®šç‰ˆ bot token
- `TELEGRAM_CHAT_ID`ï¼šç¨³å®šç‰ˆæ¥æ”¶ chat id

### Variables
- `NEWS_TZ`ï¼šæ—¶åŒºï¼ˆä¾‹å¦‚ `Asia/Shanghai`ï¼‰
- `PRIMARY_HEARTBEAT_MAX_AGE_SECONDS`ï¼šä¸»æœºå¿ƒè·³é˜ˆå€¼ï¼ˆé»˜è®¤ 900ï¼‰
- `BOT_CODE_REF`ï¼šå¯é€‰ï¼›ä¸å¡«åˆ™ workflow é»˜è®¤ `bot-stable`

## è¿ç»´è§‚å¯Ÿç‚¹
- å·¥ä½œæµæ–‡ä»¶ï¼š`.github/workflows/news-bot.yml`
- å…³é”®æ—¥å¿—ï¼š`summary ... new=... pushed_ok=... pushed_fail=...`
- è‹¥ `new>0` ä¸” `pushed_ok=0`ï¼Œä¼˜å…ˆæ£€æŸ¥ Telegram æƒé™ä¸ `chat_id`

## Beta è¯´æ˜
æµ‹è¯•çº¿åœ¨ç‹¬ç«‹ä»“åº“ï¼š`zixuouoscaroliver/Oscar-Oliver-beta`ï¼Œç”¨äºå®éªŒæ”¹åŠ¨ï¼Œä¸å½±å“æœ¬ç¨³å®šç‰ˆã€‚
